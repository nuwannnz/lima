# Story 1.1: Project Setup & Foundation

## Status

Approved

## Story

**As a** developer,
**I want** the Nx monorepo and Next.js application initialized and configured with Supabase,
**so that** I have a clean, consistent, and ready-to-use codebase to begin building features.

## Acceptance Criteria

1. An Nx monorepo is initialized with the package structure (`lima-web`, `ui`, `types`, `domain`) defined in the technical assumptions.
2. The `lima-web` Next.js application is created and can be run successfully in a local development environment.
3. The Supabase client is installed and configured with the necessary environment variables (`.env.example`).
4. Basic linting (ESLint) and code formatting (Prettier) are configured and operational at the root level.
5. The initial project structure is committed to a Git repository.

## Tasks / Subtasks

- [ ] Task 1 (AC: 1): Initialize Nx monorepo with the specified package structure.
  - [ ] Subtask 1.1: Run 'npx create-nx-workspace' to create the monorepo.
  - [ ] Subtask 1.2: Create 'apps/lima-web' and 'packages/ui', 'packages/types', 'packages/domain' directories.
- [ ] Task 2 (AC: 2): Create and configure the Next.js application.
  - [ ] Subtask 2.1: Initialize a Next.js app inside 'apps/lima-web'.
  - [ ] Subtask 2.2: Ensure 'npx nx serve lima-web' starts the development server.
- [ ] Task 3 (AC: 3): Set up Supabase client.
  - [ ] Subtask 3.1: Install '@supabase/supabase-js' package.
  - [ ] Subtask 3.2: Create '.env.example' with 'NEXT_PUBLIC_SUPABASE_URL' and 'NEXT_PUBLIC_SUPABASE_ANON_KEY'.
- [ ] Task 4 (AC: 4): Configure linting and formatting.
  - [ ] Subtask 4.1: Initialize ESLint and Prettier at the root.
  - [ ] Subtask 4.2: Add a pre-commit hook to run formatting.
- [ ] Task 5 (AC: 5): Initialize Git repository.
  - [ ] Subtask 5.1: Run 'git init'.
  - [ ] Subtask 5.2: Create a .gitignore file.
  - [ ] Subtask 5.3: Perform the initial commit of the project structure.

## Dev Notes

- **Tech Stack:** Nx, Next.js, Supabase, Mantine, Zustand, Dexie.js, Vitest, Playwright. [Source: docs/architecture/03-tech-stack.md]
- **Project Structure:** The monorepo will have `apps/lima-web` and `packages/domain`, `packages/ui`, `packages/types`. [Source: docs/architecture/05-unified-project-structure.md]
- **Development Workflow:** Use `npm install`, `npx supabase start`, and `npx nx serve lima-web`. [Source: docs/architecture/07-development-workflow.md]
- **Coding Standards:** ESLint and Prettier for formatting. JSDoc for comments. [Source: docs/architecture/08-coding-standards.md]
- **Data Models:** No specific data models for this story, but `packages/types` is created for future stories. [Source: docs/architecture/04-data-models.md]
- **High-Level Architecture:** The application is a PWA with an optimistic UI using Next.js Server Actions and Supabase. [Source: docs/architecture/02-high-level-architecture.md]

## Testing

- Unit/Integration tests will use Vitest. [Source: docs/architecture/03-tech-stack.md]
- E2E tests will use Playwright. [Source: docs/architecture/03-tech-stack.md]

## Change Log

| Date       | Version | Description   | Author             |
| ---------- | ------- | ------------- | ------------------ |
| 2025-09-18 | 1.0     | Initial draft | Bob (Scrum Master) |
